function loadRooms() {
  if (fs.existsSync(ROOMS_PATH)) {
    try {
      const raw = fs.readFileSync(ROOMS_PATH, 'utf8');
      const obj = JSON.parse(raw || '{}'); // 비어있으면 {} 처리
      for (const [key, value] of Object.entries(obj)) {
        roomState.set(key, {
          members: value.members,
          lanes: value.lanes || {},
          tiers: value.tiers || {},
          last: new Set(value.last),
          wait: new Set(value.wait)
        });
      }
      console.log("✅ roomState 복원 완료:", roomState.size);
    } catch (err) {
      console.error("❌ rooms.json 파싱 실패 → 초기화:", err.message);
      fs.writeFileSync(ROOMS_PATH, '{}'); // 깨졌으면 초기화
    }
  }
}